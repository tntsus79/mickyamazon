<html>
<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script id="ss" src="https://unpkg.com/simple-statistics@7.8.0/dist/simple-statistics.min.js"></script>
    <script src="https://unpkg.com/d3-regression@1.3.10/dist/d3-regression.min.js"></script>

<link rel="stylesheet" href="stylesh.css">
<style>
 


  </style>
</head>
<body>
    <nav role="main">
        <ul id="jongjong">
            
            <li><a href="index.html" >about us and our product</a></li>
            <li><a href="https://www.amazon.com/Echo-Frames/dp/B08T5N8QPT">echo frames</a></li>
            <li><a href="https://dnd.wizards.com/">Dungeons And Dragons</a></li>
            <li><a href="data.html" class="pressed">data</a></li>
           </ul>
    </nav>
    <div id="conk">
        <h2 style="text-align: center;">weapons damage table</h2>
    <img style="align-content: center;" id="bing" src="https://panzerleader.files.wordpress.com/2012/01/1e-weaponstable.jpg">
    </div>
    <div  id="target"></div>
    <div id="bruy">
       
    <button id="charbutt">Get Data for Characters</button> 
        <table id="tableplace"></table>


</div>
<script>
   document.getElementById('charbutt').addEventListener('click', (event) => {
    const ajaxParameters = new FormData;
    let bingSettings = {
                    method: 'POST',
                    body: ajaxParameters
                };

                fetch("http://localhost/filters/", bingSettings)
                   .then((response) => {
                       return new Promise((resolve) => response.json()
                           .then((json) => resolve({
                                status: response.status,
                               json,
                          })
                       ));
                   })  
                   .then(({status, json}) => {
            if (status === 200) {
                let displayTable = '<table>' +
                                '<thead>' +
                                    '<tr>' +
                                        '<th width="20%">character_name</th>' +
                                        '<th width="20%">character_class</th>' +
                                        '<th width="20%">character_race</th>' +
                                        '<th width="20%">character_level</th>' +
                                        '<th width="20%">character_subclass</th>' +
                                    '</tr>' +
                                '</thead>' +
                                '<tbody>';
                if (typeof json.data !== 'undefined') {
                    for (row of json.data) {
                        displayTable += '<tr>' +
                            '<td>' + row.character_name + '</td>' +
                            '<td>' + row.character_class + '</td>' +
                            '<td>' + row.character_race + '</td>' +
                            '<td>' + row.character_level + '</td>' +
                            '<td>' + row.character_subclass + '</td>' +
                        '</tr>';
                    }
                }
                displayTable += '</tbody></table>';
                document.getElementById('tableplace').innerHTML = displayTable}
              
   })})





</script>




</body>

</html>